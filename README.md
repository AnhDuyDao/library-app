<h1> Library App üìö </h1> <br>

![Library App](https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExYTdvd2NzZjBoa2ZvdjkxemVuMjU4bW96OG44OXMzank1a3IxczNqMiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/RfJejNCPXFyOZMmKd5/giphy.gif)

Library App is a web application built with React, Spring Boot, Okta, and Stripe. It allows users to browse, read ,and check out books from the digital library. The app also includes an administrative dashboard to help library staff manage books, users, and checkouts efficiently.  

The project includes features such as product listing, product details, book borrowing, Q&A section, admin dashboard, user authentication and authorization with Okta and checkout with Stripe payment.

## Demo
### Home page

![Home page](https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExYTdvd2NzZjBoa2ZvdjkxemVuMjU4bW96OG44OXMzank1a3IxczNqMiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/RfJejNCPXFyOZMmKd5/giphy.gif)

### Products page

![Products page](https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHV6MmZpY3ZyN2t1NjNvamo5dHNhc3EzZnM4MGZpYTZscG9uc2QwOCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/vX0IkDjVbSbwdphwan/giphy.gif)

### Single product page

![Single product page](https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExMXhlbnYxdXUydXM3bWM2cHd5b3U5cXllOHc5NmlxMTV6eGlyb20xeSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/KiXtgMnGU8zjLy1lxU/giphy.gif)

### Sign in page

![Sign in page](https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExazdpamtwMzB0cmtpandwZXEycWdtNTVjNTMzbmd2bXI2emM3MmIzNyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/CKf1FizzXEZwBbbOt7/giphy.gif)

### Sign up page

![Sign up page](https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExMnZ5OGw3Z3N5bGcweHo0YzhlNzY2enl4bWhuOThrOTh1NjhqOXoyMCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/NnIlmNAJE3ljNSybZH/giphy.gif)

### Self Book page

![Self book page](https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExajM2b3N2OGMza3JjM3ljbDRmOHQ5eXBrMDl4NnUzM3Rtd3Mza2oxZSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/63Jm9rQ8tofEaxB33j/giphy.gif)

### Read Book page

![Read book page](https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExaHVoNnkzZWR0ZmZlMGpkMjJvc2QzaGl3aGNrZzNheGVtenB1ZG43biZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Hw29MiyU5k1cCKHbbM/giphy.gif)

### Pay fees page

![Pay fees page](https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExaTh5YXB1NnpjNmk3ejh3bTUzNW82cDJnZnFscjV1ajh0bzdzbDBjNyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/RG6COYRTKx4LqhVzrp/giphy.gif)

### Q&A page

![Q&A page](https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExd2dmNmE2bTZnMWQwc3duNHZxMWtud3Q1d3V4bXV3NWp1b2Z0ZTdtMiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/YDOgZSfVEQAdOJmiDE/giphy.gif)

### Admin page

![Admin page](https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExaTR3dmJveWF4NnRkbmpyYWowM2R5dHhwcDRibmhsOWV6a2hjYzFtdiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/GtOIp2idTctuSyUtFl/giphy.gif)

<p align="right">(<a href="#top">back to top</a>)</p>

## Features

‚ú®  Modern UI Design\
‚ú®  Fully Responsive\
‚ú®  Browse and search for books\
‚ú®  View detailed information about each book\
‚ú®  Add books to the shopping cart\
‚ú®  Adjust quantities and remove items in the admin page\
‚ú®  Complete the checkout process with Stripe payment integration\
‚ú®  User authentication and authorization with Okta

<p align="right">(<a href="#top">back to top</a>)</p>

## Technologies used üõ†Ô∏è

* [React.js](https://reactjs.org/)
* [Okta](https://developer.okta.com/)
* [Stripe](https://stripe.com/en-nl)
* [Spring](https://spring.io/projects/spring-boot)
* [Bootstrap](https://getbootstrap.com/)
* [Cloudinary](https://cloudinary.com/)

<p align="right">(<a href="#top">back to top</a>)</p>

## How To Use üîß

### 1. Clone this repository

```
$ git clone https://github.com/AnhDuyDao/library-app.git
$ cd library-app
```

### 2. Database Configuration

#### Prerequisites
- Install MySQL Server
- Install MySQL Workbench (optional, for GUI management)
- Ensure that the MySQL service is running

#### Database Setup

Running Database Scripts

To set up the database schema, execute the SQL scripts in the Scripts folder in the following order:

React-Springboot-Add-Tables-Script-1.sql

React-Springboot-Add-Tables-Script-2.sql

React-Springboot-Add-Tables-Script-3.sql

React-Springboot-Add-Tables-Script-4.sql

React-Springboot-Add-Tables-Script-5.sql

Payment Script.sql


### 3. Backend Configuration

The application uses **Okta** for OAuth2 authentication. Update the following properties in `src/main/resources/secrets.properties`:

```
okta.oauth2.client-id=your-okta-client-id
okta.oauth2.issuer=your-okta-issuer
```

The application uses **Stripe** for payment processing. Update the following properties in `src/main/resources/secrets.properties`:

```
stripe.key.secret=your-stripe-key-secret
```

The application uses **Cloudinary** for image storage. Update the following properties in `.env`:

```
CLOUDINARY_CLOUD_NAME=your-cloudinary-name
CLOUDINARY_API_KEY=your-cloudinary-api
CLOUDINARY_API_SECRET=your-cloudinary-api-secret
```


### 4. Frontend Configuration
#### Okta Configuration
Go to Okta Dev [https://developer.okta.com] -> Sign up -> Sign In

Create Okta Application: Home Page -> Application -> Create App Intergration
- Choose OIDC-OpenID Connect and Single-Page Application then Next
- App Intergration name: Your app name
- Set up Sign-in redirect URLs: [http://localhost:3000/login/callback](http://localhost:3000/login/callback)
- Set up Sign-out redirect URLs: [http://localhost:3000](http://localhost:3000)
- Base URLs: [http://localhost:3000](http://localhost:3000)
- Controlled access: Allow everyone in your organization to access
- Client ID: your-client-id

Create Profile Attributes: Home Page -> Profile Editor -> Your App User -> Add Attribute
- Data Type: string
- Display name: UserType
- Variable name: userType
- Save
- Back to Profile Editor -> Mappings
- Choose Okta User to Your App
- Choose an attribute or enter expression -> Choose user.userType
- Click on the arrow -> Change it to Apply mapping on user create and update
- Save Mappings -> Apply update now
- Back to Profile Editor -> Mappings
- Choose Your App to Okta User
- Choose an attribute or enter expression -> Choose user.userType
- Click on the arrow -> Change it to Apply mapping on user create and update
- Save Mappings -> Apply update now

Create ADMIN account: Home Page -> People -> Add person
- Fill the form
- Password: Set by admin -> Enter password
- Uncheck User must change password on first login
- Save to create Admin account

Set up Security: Home Page -> Security -> API
- Issuer URL: your-issuer-url
- default -> claims -> Add Claim
- Name: sub -> Value: (appuser!=null) ? appuser.userName : app.clientId -> Create
- Name: userType -> Value: (appuser!=null) ? appuser.userType : app.clientId -> Create
- Trust Origin -> Add Origin -> Name: your-name -> Origin URL: [http://localhost:3000](http://localhost:3000) -> Choose Cors and Redirect 
- Home Page -> People -> Admin User -> Profile -> Edit -> User type: admin

Set up .env 
```
REACT_APP_API='http://localhost:8080/api'
REACT_APP_URL='http://localhost:3000'
REACT_APP_OKTA_CLIENT_ID=your-okta-client-id
REACT_APP_OKTA_ISSUER=your-okta-issuer-url
```

This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).

#### Available Script

In the project directory, you can run:

```
$ npm start
```

Runs the app in the development mode.\
Open [http://localhost:3000](http://localhost:3000) to view it in the browser.

The page will reload if you make edits.\
You will also see any lint errors in the console.

```
$ npm test
```

Launches the test runner in the interactive watch mode.\
See the section about [running tests](https://facebook.github.io/create-react-app/docs/running-tests) for more information.
